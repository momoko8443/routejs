function RouteController(t){var e,n,o,a={},i=this,t="#"+t,r={},s={},h=function(t,e,i,r){var s=(window.location.hash,{key:t,path:e});i&&(n=s),r&&(o=s),a[t]=s},c=function(t){i.onRouteChange&&"function"==typeof i.onRouteChange&&i.onRouteChange.call(i,t)};this["default"]=function(t,e){return h(t,e,!0),this},this.when=function(t,e){return h(t,e,!1),this},this.otherwise=function(t){return h("otherwise",t,!1,!0),this},this["goto"]=function(t){function n(){for(var t=0;t<containerDOM.children.length;t++){var n=containerDOM.children[t];if("none"!==n.style.display){n.style.display="none";var o=e.key;return s[o]=n,!1}}}var o=a[t];if(o){if(o!==e)if(s[t]){var i=e.key;s[i]?s[i].style.display="none":n(),s[t].style.display="block",s[t].classList.add("showEffect"),e=o;var h={page:s[t],cache:!0};c(h)}else{n();var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==l.readyState)if(200==l.status){var t=l.responseText;containerDOM.insertAdjacentHTML("afterBegin",t);var n=containerDOM.firstChild;n.classList.add("showEffect"),e=o;var a={page:n,cache:!1};c(a),c(a)}else alert("Can't load the route "+o.key+"page from "+o.path)},l.open("GET",o.path,!0),l.send(null)}}else void 0===r[t]&&this["goto"]("otherwise")},this.work=function(){containerDOM=document.querySelector(t);for(var e=window.location.hash,o=document.querySelectorAll("a[name]"),a=0;a<o.length;a++){var i=o[a].getAttribute("name");r["#"+i]=i}var s=this;window.onhashchange=function(t){e=window.location.hash,s["goto"](e)},e?this["goto"](e):n&&this["goto"](n.key)},this.onRouteChange=void 0}